# 0.7.0
## 前言
转眼间已经来到0.7.0了，也就意味着还有三个版本正式版就要面世了，整个网站大部分功能也都实现了，但是能体现技术含量的地方还不多，最可圈可点的应该还是0.2.0版本就实现的照片墙。前端的技术还没体现出来。先说说这个版本的进度吧，第一cjnb界面重构了一下，然后后台管理界面的加密，然后弹窗组件的封装，还有导航栏的优化支持隐藏导航栏后恢复。
## 一.cjnb界面的重构
![img](http://abc.cjnb.site/blog/myrecord/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-11-24%20230822.png)
之前是每个模块一个界面（不同的组件）这样就导致相同的代码要写好几遍，修改后就是这几个模块公用一个组件，不同的数据来实现不同的界面。为cjnb模块设计了数据库，来实现动态管理，目前只做了对数据的增加。
## 二.后台管理界面的加密
![img](http://abc.cjnb.site/blog/myrecord/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-11-24%20231604.png)
在每一个管理界面都先判断了一下是否登录，没登录就显示登录界面。登录界面输入了正确的账号密码就可以将登陆状态设置为已登录，就可以访问后台管理界面。这样可以有效防止别人对我的数据直接进行操作。
## 三.弹窗组件的封装
![img](http://abc.cjnb.site/blog/myrecord/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-11-24%20231829.png)
短短40行代码，我封装了一个简单的弹窗组件，在别的地方想使用弹窗，只要引入这个组件在使用的时候加上两个参数，一个对象来告诉弹窗组件有哪些行，属性名是什么。另一个参数是api路径来确定将数据提交到哪里。
![img](http://abc.cjnb.site/blog/myrecord/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-11-24%20232235.png)
目前只用在了这一个地方，后面可以再加，传入v-model的数据，来实现数据修改
## 导航栏的优化
![img](http://abc.cjnb.site/blog/myrecord/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-11-24%20232711.png)
原来的导航栏组件使用vue2写的，为什么呢，因为教程是用vue2，因为在vue2里很难去监听pinia的变化来实现我的需求，所以我索性就将这个用vue3重写了一遍，但是也是用ai重写的。加了一个组件恢复导航栏，通过pinia来让他们共享数据，来判断他们两个哪个要显示，哪个隐藏。可以说是非常的人性化。
## 学习访问外部资源403问题
因为我在访问我的云服务器资源的时候，出现了403问题，而我直接访问这个资源的地址却是可以的，问了万能的群友这是因为防盗链机制，只要在index.html里加上这一段代码就可以了。
```
<meta name="referrer" content="never" />
```
意识是要让浏览器不发送referer头，让服务器不知道我是谁，这样就可以访问了。
## 总结
按照这个节奏下去，到1.0.0版本网站大体应该就差不多了。下个版本吧cjnb界面做好，做个卡片翻转效果，wepage背景做个预加载或者懒加载，wepagelogin界面做个动效，把事件上传，传照片也传到七牛云，而不是原来的服务器上。0.9.0版本把本站介绍界面做一下，人生时刻界面优化一下，后台管理界面做好。1.0.0版本把安全性搞一下，尤其是sql注入要防止，差不多就完成啦。